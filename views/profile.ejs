<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-zinc-950 via-black to-zinc-900 text-white min-h-screen">

<!-- NAVBAR -->
<nav class="flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-b border-zinc-800 gap-4">

<h1 class="text-lg sm:text-xl font-semibold tracking-tight text-center sm:text-left">
ğŸª¶ StoryNest
</h1>

<div class="flex gap-3">

<a href="/"
class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded-lg transition text-sm sm:text-base">
Sign Up
</a>

<a href="/logout"
class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition text-sm sm:text-base">
Logout
</a>

</div>

</nav>



<!-- HEADER -->
<section class="max-w-4xl mx-auto mt-10 px-4 sm:px-6">
<div class="flex items-center gap-4">
    
    <div class="w-12 h-12 bg-zinc-500 rounded-full overflow-hidden">
       <a href="/profileUpload">
       <img class="w-full h-full object-cover"
        src="/images/uploads/<%= user.profilepic %>" alt="">
       </a>
    </div>

    <div>
        <h1 class="text-2xl sm:text-4xl font-bold">
        Hello, <%= user.name %> ğŸ‘‹
        </h1>
        <p class="text-zinc-400 text-sm sm:text-base">
        Share your thoughts and create meaningful stories.
        </p>
    </div>

</div>
</section>



<!-- CREATE POST -->
<section class="max-w-4xl mx-auto mt-8 px-4 sm:px-6">

<div class="bg-zinc-900/60 backdrop-blur border border-zinc-800 rounded-2xl p-5 sm:p-6 shadow-lg">

<h3 class="text-lg sm:text-xl font-semibold mb-4">
Create a New Post
</h3>

<form action="/post" method="post" class="flex flex-col gap-4">

<textarea name="content"
rows="4"
placeholder="What's on your mind..."
class="w-full bg-zinc-950 border border-zinc-800 rounded-xl p-4 outline-none focus:ring-2 focus:ring-blue-500 resize-none text-sm sm:text-base"></textarea>

<div class="flex flex-col sm:flex-row gap-3">

<button
class="bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-2 rounded-xl hover:scale-[1.03] transition w-full sm:w-auto">
Publish Post
</button>

<a href="/profileUpload"
class="bg-zinc-700 hover:bg-zinc-600 px-6 py-2 rounded-xl transition text-center w-full sm:w-auto">
Update Profile
</a>

</div>

</form>

</div>

</section>



<!-- POSTS SECTION -->
<section class="max-w-6xl mx-auto mt-12 px-4 sm:px-6 pb-20">

<h2 class="text-xl sm:text-2xl font-semibold mb-6 text-zinc-300">
Your Posts
</h2>

<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

<% user.posts.forEach(function(post) { %>

<div class="bg-zinc-900/70 backdrop-blur border border-zinc-800 rounded-2xl p-5 shadow-lg hover:shadow-xl transition">

<h4 class="text-blue-400 font-medium mb-2 text-sm sm:text-base">
@<%= user.username %>
</h4>

<p class="text-zinc-300 leading-relaxed mb-4 text-sm sm:text-base break-words">
<%= post.content %>
</p>

<div class="flex justify-between items-center text-sm">

<a href="/like/<%= post._id %>"
class="text-blue-400 hover:text-blue-300 transition">
â¤ï¸ <%= post.likes.length %>
</a>

<a href="/edit/<%= post._id %>"
class="text-orange-400 hover:text-orange-300 transition">
âœï¸ Edit
</a>

</div>

</div>

<% }); %>

</div>

</section>

</body>
</html>